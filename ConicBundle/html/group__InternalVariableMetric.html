<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ConicBundle: Variable Metric</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ConicBundle
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a>  </div>
  <div class="headertitle">
<div class="title">Variable Metric</div>  </div>
</div><!--header-->
<div class="contents">

<p>The classes and routines here help to dynamically specify the part of the quadratic term within the proximal term (see <a class="el" href="group__InternalBundleProxObject.html">Quadratic Proximal Terms</a>) that is responsible for the shape of the level sets of the prox term in the bundle subproblem. In the smooth case this quadratic contribution should be the Hessian of the function. Generally the term should make it easy to move into directions that are still considered promising and where "curvature" also seems to allow for larger steps.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classConicBundle_1_1VariableMetricModel.html">ConicBundle::VariableMetricModel</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">declares the interface that a BundelModel needs to provide for contributing to <a class="el" href="classConicBundle_1_1VariableMetric.html" title="interface class that allows a VariableMetricModel to contribute information to a VariableMetric objec...">VariableMetric</a> information  <a href="classConicBundle_1_1VariableMetricModel.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classConicBundle_1_1VariableMetricBundleData.html">ConicBundle::VariableMetricBundleData</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">abstract interface providing the bundle data that is typically needed in <a class="el" href="classConicBundle_1_1VariableMetricSelection.html" title="abstract interface, that allows to specify a routine for providing or computing a suitable variable m...">VariableMetricSelection</a> classes.  <a href="classConicBundle_1_1VariableMetricBundleData.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classConicBundle_1_1VariableMetricSelection.html">ConicBundle::VariableMetricSelection</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">abstract interface, that allows to specify a routine for providing or computing a suitable variable metric for specific models. Per current default, no such information is generated.  <a href="classConicBundle_1_1VariableMetricSelection.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classConicBundle_1_1VariableMetric.html">ConicBundle::VariableMetric</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">interface class that allows a <a class="el" href="classConicBundle_1_1VariableMetricModel.html" title="declares the interface that a BundelModel needs to provide for contributing to VariableMetric informa...">VariableMetricModel</a> to contribute information to a <a class="el" href="classConicBundle_1_1VariableMetric.html" title="interface class that allows a VariableMetricModel to contribute information to a VariableMetric objec...">VariableMetric</a> object for use in a <a class="el" href="classConicBundle_1_1BundleProxObject.html" title="abstract interface that allows to use different -norms  with a positive definite matrix  in the proxi...">BundleProxObject</a>  <a href="classConicBundle_1_1VariableMetric.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classConicBundle_1_1VariableMetricSVDSelection.html">ConicBundle::VariableMetricSVDSelection</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">general implementation of a <a class="el" href="classConicBundle_1_1VariableMetricSelection.html" title="abstract interface, that allows to specify a routine for providing or computing a suitable variable m...">VariableMetricSelection</a> routine to form and add variable metric information to a <a class="el" href="classConicBundle_1_1BundleProxObject.html" title="abstract interface that allows to use different -norms  with a positive definite matrix  in the proxi...">BundleProxObject</a> generically mainly from the aggregate and a collection of minorants given by a MinorantBundle  <a href="classConicBundle_1_1VariableMetricSVDSelection.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classConicBundle_1_1PSCVariableMetricSelection.html">ConicBundle::PSCVariableMetricSelection</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">iplementation of a <a class="el" href="classConicBundle_1_1VariableMetricSelection.html" title="abstract interface, that allows to specify a routine for providing or computing a suitable variable m...">VariableMetricSelection</a> routine for <a class="el" href="classConicBundle_1_1PSCModel.html" title="implements (as a derived class of ConeModel) a cutting model for a PSCOracle ">PSCModel</a> for forming and adding variable metric information to a <a class="el" href="classConicBundle_1_1BundleProxObject.html" title="abstract interface that allows to use different -norms  with a positive definite matrix  in the proxi...">BundleProxObject</a>  <a href="classConicBundle_1_1PSCVariableMetricSelection.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>The classes and routines here help to dynamically specify the part of the quadratic term within the proximal term (see <a class="el" href="group__InternalBundleProxObject.html">Quadratic Proximal Terms</a>) that is responsible for the shape of the level sets of the prox term in the bundle subproblem. In the smooth case this quadratic contribution should be the Hessian of the function. Generally the term should make it easy to move into directions that are still considered promising and where "curvature" also seems to allow for larger steps. </p>
<p>The class <a class="el" href="classConicBundle_1_1VariableMetric.html" title="interface class that allows a VariableMetricModel to contribute information to a VariableMetric objec...">VariableMetric</a> gives the abstract interface to classes describing the quadratic term. <a class="el" href="classConicBundle_1_1VariableMetric.html" title="interface class that allows a VariableMetricModel to contribute information to a VariableMetric objec...">VariableMetric</a> implementations may offer one or several possible ways to add second order information (diagonal, low rank, or dense) for cutting models. To provide this, the latter tpyically use collected subgradient or curvature information depending on the oracle/model in use. An istance of the class <a class="el" href="classConicBundle_1_1VariableMetricSelection.html" title="abstract interface, that allows to specify a routine for providing or computing a suitable variable m...">VariableMetricSelection</a> may be passed to <a class="el" href="classConicBundle_1_1VariableMetric.html" title="interface class that allows a VariableMetricModel to contribute information to a VariableMetric objec...">VariableMetric</a> via the constructor or <a class="el" href="classConicBundle_1_1VariableMetric.html#a39b4ad9fecccbe4904533b1c65ffd1e8" title="sets use_variable_metric; the object passed is then owned by this ">VariableMetric::set_variable_metric_selection()</a>, that provides a default routine for constructing and adding such information from default data provided by a call of the model to <a class="el" href="classConicBundle_1_1VariableMetricSelection.html#a3162c2ccf29d2ab45818431b744bc89d" title="this routine allows to supply a customized scaling heuristic to a VariableMetricModel ...">VariableMetricSelection::add_variable_metric()</a> with the data requested in <a class="el" href="classConicBundle_1_1VariableMetricBundleData.html" title="abstract interface providing the bundle data that is typically needed in VariableMetricSelection clas...">VariableMetricBundleData</a> . <a class="el" href="classConicBundle_1_1VariableMetric.html" title="interface class that allows a VariableMetricModel to contribute information to a VariableMetric objec...">VariableMetric</a> specifies several further interface routines that are needed for the <a class="el" href="classConicBundle_1_1BundleSolver.html" title="This is the internal bundle solver managing descent/null steps with inner updates for approximating t...">BundleSolver</a> and the <a class="el" href="classConicBundle_1_1BundleModel.html" title="abstract interface for BundleSolver giving access to all objective function specific bundle routines ...">BundleModel</a> to ensure treatment consistent with the use of <a class="el" href="classConicBundle_1_1AffineFunctionTransformation.html" title="transform a function f(z) to fun_coeff*f(arg_offset+arg_trafo*y)+linear_cost*y+fun_offset (scales the...">AffineFunctionTransformation</a>, <a class="el" href="classConicBundle_1_1SumBundle.html" title="class for use with SumBlockModel and BundlData for storing and managing a common bundle describing (p...">SumBundle</a> etc. or options on which models should contribute at what stage to the <a class="el" href="classConicBundle_1_1VariableMetric.html" title="interface class that allows a VariableMetricModel to contribute information to a VariableMetric objec...">VariableMetric</a>.</p>
<p>For a model to provide customized "second order" information it must be a <a class="el" href="classConicBundle_1_1VariableMetricModel.html" title="declares the interface that a BundelModel needs to provide for contributing to VariableMetric informa...">VariableMetricModel</a> and the model has to implement the virtual routine <a class="el" href="classConicBundle_1_1VariableMetricModel.html#a7ada8d8381611cf24552e4f019f4dcce" title="add to the variable metric information H some model dependent &quot;second order&quot; information of the funct...">VariableMetricModel::add_variable_metric()</a> (all <a class="el" href="classConicBundle_1_1SumBlockModel.html" title="abstract interface extending BundleModel so that any such model can be used alone or within SumModel ...">SumBlockModel</a> implementations in <a class="el" href="namespaceConicBundle.html" title="conic bundle method solver for sum of convex functions. See the ConicBundle_Manual for a quick introd...">ConicBundle</a> have this). This routine may query <a class="el" href="classConicBundle_1_1VariableMetric.html" title="interface class that allows a VariableMetricModel to contribute information to a VariableMetric objec...">VariableMetric</a> on which matrix structures are supported (diagonal, low rank, or dense) and the model may use a corresponding <a class="el" href="classConicBundle_1_1VariableMetric.html#a6568ee35a5b990d5cef713a70d2edf09" title="adds a suitable modification of symH (symH may be modified in this) to the scaling matrix H ...">VariableMetric::add_variable_metric()</a> routine to add its second order data. Potentional transformations due to a possible cascade of <a class="el" href="classConicBundle_1_1AffineFunctionTransformation.html" title="transform a function f(z) to fun_coeff*f(arg_offset+arg_trafo*y)+linear_cost*y+fun_offset (scales the...">AffineFunctionTransformation</a> applications will be performed automatically when used within the standard framework; for this the <a class="el" href="classConicBundle_1_1VariableMetric.html" title="interface class that allows a VariableMetricModel to contribute information to a VariableMetric objec...">VariableMetric</a> class is informed about such transformations recursively by <a class="el" href="classConicBundle_1_1VariableMetric.html#aa3368865cf2a2c05aba3e2968c17011c" title="this AffineFunctionTransformation has to be used before applying Hinv in ">VariableMetric::push_aft()</a> and <a class="el" href="classConicBundle_1_1VariableMetric.html#a9ad4867e1405e454253e6a61d82954a0" title="removes the top most aft (without deleting it!) ">VariableMetric::pop_aft()</a>. Alternatively the model may be equipped with a separate implemented version of a <a class="el" href="classConicBundle_1_1VariableMetricSelection.html" title="abstract interface, that allows to specify a routine for providing or computing a suitable variable m...">VariableMetricSelection</a> class that does so. The <a class="el" href="classConicBundle_1_1VariableMetricBundleData.html" title="abstract interface providing the bundle data that is typically needed in VariableMetricSelection clas...">VariableMetricBundleData</a> passed on should then give access to the respective <a class="el" href="classConicBundle_1_1BundleData.html" title="base class for use with SumBlockModel for storing and managing essential data of evaluations and the ...">BundleData</a> of the model via a suitable dynamic cast.</p>
<p>A <a class="el" href="classConicBundle_1_1VariableMetric.html" title="interface class that allows a VariableMetricModel to contribute information to a VariableMetric objec...">VariableMetric</a> implementation that supports a dynamic metric allows to switch on or off various scaling components:</p>
<ul>
<li>Whenever a <a class="el" href="classConicBundle_1_1VariableMetricSelection.html" title="abstract interface, that allows to specify a routine for providing or computing a suitable variable m...">VariableMetricSelection</a> object is supllied, this switches on the variable metirc routines. How many of the latest gradients are used in the construction of the metric information by the selection routine is passed on in the second argument when it calls the routine <a class="el" href="classConicBundle_1_1VariableMetricBundleData.html#a756d41ef465bec95ed0eeeea63105a81" title="latest_minorants should return up to the max_number latest minorants whose information should be inco...">VariableMetricBundleData::get_latest_minorants()</a>. This number may be regarded as a suggestion to store and provide that many of the most recent minorants. If the number is &lt;=0, no information is requested from the models and the initial scaling matrix is used as the basis.</li>
<li>local_scaling only has an affect if a <a class="el" href="classConicBundle_1_1VariableMetricSelection.html" title="abstract interface, that allows to specify a routine for providing or computing a suitable variable m...">VariableMetricSelection</a> object is specified in <a class="el" href="classConicBundle_1_1VariableMetric.html" title="interface class that allows a VariableMetricModel to contribute information to a VariableMetric objec...">VariableMetric</a>. If local_scaling==true, every model that contributes its own local model to the bundle subproblem should add its own local scaling contribution; in contrast, local_scaling==false asks to only use the global minorants at the top level without any local resolution to be used for forming the scaling matrix, so the first model called should provide all the relevant information without recursive calls to subsequent models.</li>
<li>bounds_scaling is independent of the other two and refers to a heuristic within <a class="el" href="classConicBundle_1_1LPGroundset.html" title="represents a polyhedral feasible ground set by affine constraints as in Linear Programming with speci...">LPGroundset</a> for adding diagonal weights if the variables are box constrained and close to their bounds. If the current step would cause the variable to exceed the bound, the diagonal elements of the scaling matrix are increased so that when considering the diagonal of the scaling matrix only the variables just end up right on the boundary. This heuristic can only be expected to work well with diagonal variants of <a class="el" href="classConicBundle_1_1VariableMetric.html" title="interface class that allows a VariableMetricModel to contribute information to a VariableMetric objec...">VariableMetric</a>. </li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
