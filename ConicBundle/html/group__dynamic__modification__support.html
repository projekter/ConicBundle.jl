<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ConicBundle: dynamic modification support for adding/deleting/modifying variables, oracles and constraints</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ConicBundle
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a>  </div>
  <div class="headertitle">
<div class="title">dynamic modification support for adding/deleting/modifying variables, oracles and constraints</div>  </div>
</div><!--header-->
<div class="contents">

<p>Most classes are specializations/reinterpretations of the class <a class="el" href="classConicBundle_1_1Modification.html" title="base class for collecting and organizing a sequence of changes to linear data so that it can be carri...">Modification</a>.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classConicBundle_1_1ModificationBase.html">ConicBundle::ModificationBase</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">basic routines for the base classes for reorganizing maps  <a href="classConicBundle_1_1ModificationBase.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classConicBundle_1_1Modification.html">ConicBundle::Modification</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">base class for collecting and organizing a sequence of changes to linear data so that it can be carried out in one step later on; this class comprises all features, derived ones are specializations with partial reinterpretations.  <a href="classConicBundle_1_1Modification.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classConicBundle_1_1GroundsetModification.html">ConicBundle::GroundsetModification</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Collects modifications for the unconstrained <a class="el" href="classConicBundle_1_1Groundset.html" title="abstract representation of the feasible convex ground set to be optimized over, provides the QP solve...">Groundset</a> for appending, deleting or reassigning variables.  <a href="classConicBundle_1_1GroundsetModification.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classConicBundle_1_1LPGroundsetModification.html">ConicBundle::LPGroundsetModification</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Collects modifications for the linearly constrained <a class="el" href="classConicBundle_1_1LPGroundset.html" title="represents a polyhedral feasible ground set by affine constraints as in Linear Programming with speci...">LPGroundset</a> for appending, deleting or reassigning variables (with bounds and starting values) and constraints (with bounds)  <a href="classConicBundle_1_1LPGroundsetModification.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classConicBundle_1_1AFTModification.html">ConicBundle::AFTModification</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">collects modifications for an <a class="el" href="classConicBundle_1_1AffineFunctionTransformation.html" title="transform a function f(z) to fun_coeff*f(arg_offset+arg_trafo*y)+linear_cost*y+fun_offset (scales the...">AffineFunctionTransformation</a> for the scaling and offset constants as well as for appending, deleting or reassigning columns and rows of the transformation data  <a href="classConicBundle_1_1AFTModification.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classConicBundle_1_1FunctionObjectModification.html">ConicBundle::FunctionObjectModification</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">abstract interface for informing the bundle model routines about changes in the oracle function and, possibly, for modifying the affine transformation of the oracle function's arguments.  <a href="classConicBundle_1_1FunctionObjectModification.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Most classes are specializations/reinterpretations of the class <a class="el" href="classConicBundle_1_1Modification.html" title="base class for collecting and organizing a sequence of changes to linear data so that it can be carri...">Modification</a>. </p>
<p>Dynamic additions and deletions of variables during the optimization process occur frequently in Lagrangian relaxation of primal linear cutting planes that are separated on basis of a current approximate solution. In the context of sums of convex functions they frequently represent coupling ressource constraints between function subgroups that compete for this ressource. The typical features are thus</p>
<ul>
<li>variables have to be added/deleted that are common to some of the functions but do not appear in all of them</li>
<li>cutting models of unaffected functions can and should be preserved</li>
<li>if the new variable is a multiplier of a new linear constraint, it typically starts with value zero, so even for the changed functions the function values are not affected. Furthermore, most subgradients arise as primal violation <img class="formulaInl" alt="$b-Ax$" src="form_226.png"/> of the relaxed constraints <img class="formulaInl" alt="$Ax=b$" src="form_227.png"/> for some specific <a class="el" href="classConicBundle_1_1PrimalData.html" title="In Lagrangean relaxation an approximate primal solution can be generated by supplying primal informat...">PrimalData</a> <img class="formulaInl" alt="$x$" src="form_121.png"/>. If this <a class="el" href="classConicBundle_1_1PrimalData.html" title="In Lagrangean relaxation an approximate primal solution can be generated by supplying primal informat...">PrimalData</a> is still available for an old subgradient, a new constraints <img class="formulaInl" alt="$a_i^\top x=b_i$" src="form_228.png"/> in <img class="formulaInl" alt="$Ax=b$" src="form_227.png"/> just gives rise to a new coordinate <img class="formulaInl" alt="$b_i-a_i^\top x$" src="form_229.png"/> in this subgradient and the new entries can be filled in. If this can be done for all new coordinates of the subgradients in use, then also the cutting model of the modified functions can be preserved in spite of the changes.</li>
<li>in bundle methods it does not hurt too much to discard a model after a descent step, but if models cannot be preserved throughout sequences of null steps convergence is seriously endangered and the quality of the primal approximations is poor as well.</li>
</ul>
<p>If the Lagrangian relaxation of a changing set of linear constraints is modelled via an <a class="el" href="classConicBundle_1_1AffineFunctionTransformation.html" title="transform a function f(z) to fun_coeff*f(arg_offset+arg_trafo*y)+linear_cost*y+fun_offset (scales the...">AffineFunctionTransformation</a> on the support function of the primal groundset, then all aspects can be handled and checked by <a class="el" href="namespaceConicBundle.html" title="conic bundle method solver for sum of convex functions. See the ConicBundle_Manual for a quick introd...">ConicBundle</a> directly. Indeed, in this case, the function representing the ground set will not be affected by the changes in the argument function. In several applications, however, the changes might also affect the function itself (e.g. if it uses a column generation approach on the primal side) and <a class="el" href="namespaceConicBundle.html" title="conic bundle method solver for sum of convex functions. See the ConicBundle_Manual for a quick introd...">ConicBundle</a> then needs the cooperation of the function in order to keep a model alive as long as possible. The attempt to support this in any thinkable form entails rather cumbersome details.</p>
<ul>
<li>All changes, those affecting any <a class="el" href="classConicBundle_1_1AffineFunctionTransformation.html" title="transform a function f(z) to fun_coeff*f(arg_offset+arg_trafo*y)+linear_cost*y+fun_offset (scales the...">AffineFunctionTransformation</a> or any Oracle, have to be communicated and excuted through the solver (and from this through its respective <a class="el" href="classConicBundle_1_1SumBlockModel.html" title="abstract interface extending BundleModel so that any such model can be used alone or within SumModel ...">SumBlockModel</a>) via so called modifications. The solver then adapts the groundset and possibly modifies some <a class="el" href="classConicBundle_1_1AffineFunctionTransformation.html" title="transform a function f(z) to fun_coeff*f(arg_offset+arg_trafo*y)+linear_cost*y+fun_offset (scales the...">AffineFunctionTransformation</a> automatically so that only those functions are affected that need to be. The models of affected functions communicate the local changes via modifications to their respective oracles by calling e.g. <a class="el" href="classConicBundle_1_1FunctionOracle.html#af4901d9882afe1b45440a744404be6f9" title="This routine need not be implemented unless variables (constraints in Lagrangean relaxation) are adde...">FunctionOracle::apply_modification()</a>. Only if in this the oracle asserts that the modifcations may allow to preserve the cutting model by possibly providing extension routines for previous subgradients, will the model try to save the cutting model.</li>
<li>All modifications are accumulated as long as possible before they are actually excuted (via a routine called e.g. <a class="el" href="classConicBundle_1_1Modification.html#ae1a1268a04874997723b657a0436ec45" title="add the modification specified in m on top of the modifications collected so far ">Modification::incorporate()</a>) This should help to keep the previously computed data valid as long as possible and may help to continue even if one modification turns out to fail the consistency checks in the accumulation process. Thus the function may not yet change even if a modification has been entered for it. Still, further modifications always have to be formulated as if the previous ones are already executed for the accumulation process to work independent of the actual point in time, when part or all of the modifcations are carried out.</li>
<li>The modifications induced on the <a class="el" href="classConicBundle_1_1Groundset.html" title="abstract representation of the feasible convex ground set to be optimized over, provides the QP solve...">Groundset</a> by <a class="el" href="classConicBundle_1_1MatrixCBSolver.html#ae94677e63dc7736099a77acaad553a3f" title="Append new variables (always in last postions in this order). ">MatrixCBSolver::append_variables()</a>, <a class="el" href="classConicBundle_1_1MatrixCBSolver.html#a6396522aada2447cf05b5e699adbd0f7" title="Deletes variables corresponding to the specified indices. ">MatrixCBSolver::delete_variables()</a> and <a class="el" href="classConicBundle_1_1MatrixCBSolver.html#a70afdaf44c7f80f69beafb1e1335ab8c" title="Reassigns variables to new index positions by mapping to position i the variable that previously had ...">MatrixCBSolver::reassign_variables()</a> are generated by <a class="el" href="classConicBundle_1_1MatrixCBSolver.html" title="The Full Conic Bundle method solver invoked by ConicBundle::MatrixCBSolver(), it uses a separate cutt...">MatrixCBSolver</a> automatically (via <a class="el" href="classConicBundle_1_1GroundsetModification.html" title="Collects modifications for the unconstrained Groundset for appending, deleting or reassigning variabl...">GroundsetModification</a> and <a class="el" href="classConicBundle_1_1LPGroundsetModification.html" title="Collects modifications for the linearly constrained LPGroundset for appending, deleting or reassignin...">LPGroundsetModification</a>), but a function specific <a class="el" href="classConicBundle_1_1FunctionObjectModification.html" title="abstract interface for informing the bundle model routines about changes in the oracle function and...">FunctionObjectModification</a> to an <a class="el" href="classConicBundle_1_1AffineFunctionTransformation.html" title="transform a function f(z) to fun_coeff*f(arg_offset+arg_trafo*y)+linear_cost*y+fun_offset (scales the...">AffineFunctionTransformation</a> (via <a class="el" href="classConicBundle_1_1AFTModification.html" title="collects modifications for an AffineFunctionTransformation for the scaling and offset constants as we...">AFTModification</a>) or to the oracles themselves (via an appropriate implementation of an <a class="el" href="classConicBundle_1_1OracleModification.html" title="Base class for informing oracles (or the solver) about dynamic changes in the number and sorting of t...">OracleModification</a> and e.g. <a class="el" href="classConicBundle_1_1ModifiableOracleObject.html#ab4f16d78fec3a02cc064003c2b02ddce" title="This routine need not be implemented unless variables (constraints in Lagrangean relaxation) are adde...">MatrixFunctionOracle::apply_modification()</a>) have to be given explicitly and consistently! Read the instructions there carefully.</li>
<li>Changing an oracle during a call to e.g. <a class="el" href="classConicBundle_1_1MatrixFunctionOracle.html#a5bf180324668e4baaa431edb5ba56993" title="Called by the solver. Has to Return function value and at least one (epsilon) subgradient and...">MatrixFunctionOracle::evaluate()</a> because of a primal column generation approach will typically also allow to preserve the model if a <a class="el" href="classConicBundle_1_1PrimalExtender.html" title="Interface for extending PrimalData, e.g., in Lagrangian relaxation of column generation approaches...">PrimalExtender</a> is returned in the last argument to the calling <a class="el" href="classConicBundle_1_1SumBlockModel.html" title="abstract interface extending BundleModel so that any such model can be used alone or within SumModel ...">SumBlockModel</a>, so that it can adapt the <a class="el" href="classConicBundle_1_1PrimalData.html" title="In Lagrangean relaxation an approximate primal solution can be generated by supplying primal informat...">PrimalData</a> of past subgradients that are still in use there.</li>
</ul>
<p>Examples modifications for the various oracle classes are <a class="el" href="classConicBundle_1_1NNCBoxSupportModification.html" title="Collects modifications for NNCBoxSupport for appending, deleting or reassigning variables and respect...">NNCBoxSupportModification</a>, <a class="el" href="classConicBundle_1_1SOCSupportModification.html" title="Collects modifications for SOCSupportFunction for appending, deleting or reassigning variables...">SOCSupportModification</a>, <a class="el" href="classConicBundle_1_1PSCAffineModification.html" title="class for collecting and organizing a sequence of changes to block diagonal symmetric affine matrix f...">PSCAffineModification</a> and <a class="el" href="classConicBundle_1_1AFTModification.html" title="collects modifications for an AffineFunctionTransformation for the scaling and offset constants as we...">AFTModification</a>. The classes <a class="el" href="classConicBundle_1_1Modification.html" title="base class for collecting and organizing a sequence of changes to linear data so that it can be carri...">Modification</a> and <a class="el" href="classConicBundle_1_1GroundsetModification.html" title="Collects modifications for the unconstrained Groundset for appending, deleting or reassigning variabl...">GroundsetModification</a> come in handy in this. </p>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
