<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ConicBundle: Internal Memory Manegement</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ConicBundle
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="index.html">The ConicBundle Library for Convex Optimization</a></li><li class="navelem"><a class="el" href="matrixclasses.html">Matrix Classes (namespace CH_Matrix_Classes)</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Internal Memory Manegement </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>A typical problem in using overloaded arithmetic operators for C++ matrix classes is the frequent generation of temporary automatic matrix variables by the compiler. This does not only need a lot of copying but also leads to a lot of interaction with the memory manager. In particular, in the typical situation of the use of many matrices with very slight changes in size, severe memory fragmentation problems may occur with the standard memory manager.</p>
<p>In order to reduce this effect, the library usees a very naiv but sufficiently efficient memory manager of its own (see <a class="el" href="group__memarraygroup.html">Classes and Functions for Memory Management</a>) for the internal value arrays of the matrix classes. In particular, it allocates only blocks of size 2^n for appropriate sizes of n, and retunrs such a block for any request that fits in [2^(n-1),2^n]. It never frees any memory, except when the memory manager is destructed, but keeps the blocks that are returned by destructed matrices, in order to serve the next request for the same amount. The memory manager is initialized as soon as one class derived from <a class="el" href="classCH__Matrix__Classes_1_1Memarrayuser.html" title="All derived classes share a common Memarray memory manager, which is generated with the first user an...">CH_Matrix_Classes::Memarrayuser</a> is instantiated and it is destructed, whenever the number of instantiated Memarrayusers drops to zero.</p>
<p>In consequence, operations like appending a scalar to a vector are very efficient and cause additional copying only if the size exceeds a 2^n threshold, i.e., the work involved in appending a scalar is O(1) in amortized sense. </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
